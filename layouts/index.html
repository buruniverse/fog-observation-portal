<!DOCTYPE html>
<html lang="{{ .Lang }}">
<head>
    {{ partial "head.html" . }}
    <style>
        /* --- ここに最強固定CSSを追加！ --- */
        html {
            background: var(--bg-color);
            overscroll-behavior: none; /* Safariのびよよーん禁止 */
            height: 100%;
        }

        body {
            margin: 0;
            padding: 0;
            width: 100%;
            /* 画面をガチガチに固定 */
            position: fixed;
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0;
            height: 100%;
            overflow: hidden;
            background: var(--bg-color);
            overscroll-behavior: none;
        }

        /* メニューの配置（既存のデザインがあればそれに合わせますが、基本中央配置にしておきます） */
        #nav-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            gap: 20px;
            text-align: center;
            width: 80%;
            max-width: 400px;
        }
        
        .nav-item {
            display: block;
            font-family: "Yu Mincho", serif;
            font-size: 1.2rem;
            letter-spacing: 0.2em;
            padding: 15px;
            transition: opacity 0.3s;
        }
        .nav-item:hover { opacity: 0.6; }
        
        /* スマホ向け調整 */
        @media (max-width: 768px) {
            #nav-container { width: 90%; }
        }
    </style>
</head>
<body>
    {{ partial "header.html" . }}

    <nav id="nav-container">
        {{ range .Site.Menus.main }}
            <a href="{{ .URL | relLangURL }}" class="nav-item item-{{ .Weight }}" style="text-decoration: none; color: inherit;">
                {{ if modBool .Weight 2 }}
                    <span class="symbol">{{ .Pre }}</span>
                    <span class="label label-right">
                        {{ .Name | replaceRE "([〈\\(])" "<br>$1" | safeHTML }}
                    </span>
                {{ else }}
                    <span class="label label-left">
                        {{ .Name | replaceRE "([〈\\(])" "<br>$1" | safeHTML }}
                    </span>
                    <span class="symbol">{{ .Pre }}</span>
                {{ end }}
            </a>
        {{ end }}
    </nav>

    {{ partial "scripts.html" . }}
</body>
</html>