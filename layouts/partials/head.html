<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>
{{ if .IsHome }}
  {{ if eq .Lang "en" }}∴ Fog Observation Portal ∵{{ else }}∴霧観測窓∵{{ end }}
{{ else }}
  {{ .Title }} | {{ if eq .Lang "en" }}∴ Fog Observation Portal ∵{{ else }}∴霧観測窓∵{{ end }}
{{ end }}
</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@300&display=swap" rel="stylesheet">
<style>
    :root { --bg-color: #f7f7f5; --text-color: #222; --symbol-opacity: 0.85; }
    body.dark-mode { --bg-color: #11233d; --text-color: #fafaf7; --symbol-opacity: 0.9; }
    
    body, html { margin: 0; padding: 0; width: 100%; min-height: 100%; background-color: var(--bg-color); overflow-x: hidden; color: var(--text-color); font-family: 'Zen Kaku Gothic New', sans-serif; transition: background-color 1.2s ease, color 1.2s ease; }
    canvas { position: fixed; top: 0; left: 0; z-index: 0; display: block; pointer-events: none; }

    /* --- メニュー配置（復活バージョン） --- */
    #nav-container { position: relative; padding-top: 300px; padding-bottom: 250px; display: flex; flex-direction: column; align-items: center; z-index: 20; width: 100vw; opacity: 0; transition: opacity 1.5s ease; }
    .nav-item { position: relative; display: flex; justify-content: center; align-items: center; margin-bottom: 110px; cursor: pointer; width: 100%; text-decoration: none; color: inherit; }
    .symbol { font-size: 1.3rem; opacity: var(--symbol-opacity); transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.6s ease; z-index: 25; padding: 10px; }
    .label { position: absolute; font-size: 1.1rem; letter-spacing: 0.15rem; opacity: 0; white-space: nowrap; transition: all 1.5s cubic-bezier(0.16, 1, 0.3, 1); pointer-events: none; }

    @media (min-width: 769px) {
        .label-right { left: calc(50% + 70px); transform: translateX(-15px); }
        .label-left { right: calc(50% + 70px); transform: translateX(15px); }
        .nav-item:hover .symbol { opacity: 1; transform: scale(1.3); }
        .nav-item:hover .label { opacity: 1; transform: translateX(0); }
        /* この「ズレ」が大事！ */
        .item-1 .symbol { transform: translateX(-50px); }
        .item-2 .symbol { transform: translateX(60px); }
        .item-3 .symbol { transform: translateX(-70px); }
        .item-4 .symbol { transform: translateX(40px); }
        .item-5 .symbol { transform: translateX(-30px); }
        .item-6 .symbol { transform: translateX(80px); }
        .item-7 .symbol { transform: translateX(-20px); }
    }
    @media (max-width: 768px) {
        #nav-container { padding-top: 265px !important; }
        .label { font-size: 1.1rem !important; display: inline-block !important; white-space: nowrap !important; line-height: 1.5; opacity: 0; transition: all 0.7s ease; }
        .nav-item:nth-child(even) .label-right { left: 50% !important; transform: translateX(-10px) !important; text-align: left; }
        .nav-item:nth-child(odd) .label-left { right: 50% !important; transform: translateX(10px) !important; text-align: right; }
        .nav-item.is-active:nth-child(even) .symbol { transform: translateX(-60px) !important; }
        .nav-item.is-active:nth-child(odd) .symbol { transform: translateX(60px) !important; }
        .nav-item.is-active .label { opacity: 1 !important; transform: translateX(0) !important; }
    }
</style>